<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Basic Example | Custom Commands</title>
  <script type="module">
    // prettier-ignore
    import {
      Command,
      CustomCommandRegistry,
      defineCustomElements,
      elements
    } from 'https://cdn.jsdelivr.net/npm/@genericmedia/lib/+esm'

    class ElementSetBackgroundCommand extends Command {
      execute() {
        this.targetElement.style.backgroundColor = this.options.color
      }
    }

    window.customCommands = CustomCommandRegistry.create()
    window.customCommands.define('element-set-background', ElementSetBackgroundCommand)

    defineCustomElements(elements)
  </script>
</head>

<body>
  <div id="message">hello world</div>
  <button data-onclick="element-set-background@message?color=royalblue" is="gm-button">
    set background
  </button>
</body>

</html>
