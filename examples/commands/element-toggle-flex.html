<style>
  [hidden] {
    display: block;
  }

  div.container {
    border: 1px solid;
    display: flex;
    flex-direction: column;
    height: 100px;
    width: 100px;
  }

  div[data-state="example"] {
    background-color: royalblue;
    color: white;
    flex: 1;
    overflow: hidden;
    transition-duration: 250ms;
    width: 100px;
  }
</style>
<div class="container">
  <button
    data-state="example"
    data-state-storage="none"
    data-onclick="element-toggle-state?state-key=open&state-on=true"
    is="gm-button"
  >
    toggle
  </button>
  <div
    data-state="example"
    data-state-storage="none"
    data-onconnected="element-toggle-attribute?attribute-name=hidden&state-key=open&state-value=!true element-toggle-flex?immediate=true"
    data-onhidden="element-clear-html"
    data-onopenchanged="element-toggle-attribute?attribute-name=hidden&state-key=open&state-value=!true element-toggle-flex"
    data-onvisible="element-set-text-content?text-content=flex"
    is="gm-div"
    style="display: none"
    hidden
  ></div>
</div>
